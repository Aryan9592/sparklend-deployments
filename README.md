# Spark Lend

This is the respository for Spark Lend deploy scripts and custom code.

## Differences from Dependencies

### SavingsDaiOracle

This is the oracle for sDAI which will take the input of a standard DAI price feed and convert it via the `pot.chi` factor.

### DaiInterestRateStrategy

A special interest rate strategy is used for the DAI market which anchors to the Dai Savings Rate (DSR). It is a flat rate up to the debt ceiling. If Maker needs to bring back liquidity by lowering the debt ceiling then the interest rate will spike to ensure user deposits and borrow repayments.

You can read more about this [here](https://forum.makerdao.com/t/mip116-d3m-to-spark-lend/19732#mip116c3-debt-ceiling-fee-structure-10).

**IMPORTANT:** The existing Pool contract logic does not support interest rate logic which returns anything but a fixed percentage of the borrow income be split between the suppliers and the reserve. Therefore as a work-around the pool will over-allocate liabilities in the form of spDAI to both the suppliers and the reserve. This is okay because the liabilities of the suppliers will be <= 100% of the income and the reserve can simply burn the excess periodically to balance the accounting. We can be confident in this because the reserve is entirely under the control of Maker Governance.

It is because of this danger we split the `daiTreasury` into its own contract to be burned before the real amount is sent to the actual `treasury`. In the future this could be made into an automated/permissionless module which compares spDAI liabilities vs DAI assets.

## Plug and Play License

This code is open source, but use within a Maker SubDAO requires a 15% revenue share of all income generated by the usage of code inside this repository to the Ethereum address labelled by the ENS domain of sparkprotocol.eth. This Plug and Play revenue share license expires on January 1st, 2026 at 00:00 UTC.
